<mvc:View controllerName="com.emmi.letsmove.controller.Main"
  displayBlock="true"
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:smart="sap.suite.ui.microchart"
  xmlns:mvc="sap.ui.core.mvc">
  <App id="idAppControl" >
    <Page id="page" showHeader="false" class="transparent-bg">
		<FlexBox id="flexBoxContent" alignItems="Center" justifyContent="Center" class="sapUiSmallMargin">
			<Panel id="formPanel" class="panel">
        <FlexBox id="flexBoxLogo" alignItems="Center" justifyContent="Center">
					<Image id="imgLogo" src="resources/img/emmi_logo.png" width="200px" class="sapUiMediumMarginTopBottom" press="reload"/>
				</FlexBox>
        <FlexBox id="flexBoxMicroBulletChart" alignItems="Center" justifyContent="Center">
        <smart:BulletMicroChart id="microBulletChart" class="sapUiSmallMargin" press="press" width="16rem">
          <smart:actual>
            <smart:BulletMicroChartData id="microBulletChartActualData" color="Good"></smart:BulletMicroChartData>
          </smart:actual>
        </smart:BulletMicroChart>
        </FlexBox>
				<VBox id="vBoxForm">
					<items>
						<HBox id="hBoxDistnace">
							<items>
								<VBox id="vBoxDistance" width="75%" class="sapUiSmallMarginEnd">
									<items>
										<Input id="inputDistance" placeholder="Enter distance" validationError="validationError" validationSuccess="validationSucess" liveChange="checkIfFieldNotEmpty" type="Number" required="true" 	value="{ path: 'validation>/distance', type: 'sap.ui.model.type.Float', constraints: { minimum: 1, maximum: 1000 } }" valueLiveUpdate="true"/>
									</items>
								</VBox>
								<VBox id="vBoxUnitSelection" width="25%">
									<items>
										<SegmentedButton id="segmentBtnUnit"
                      width="100%"
                      items="{
                        path: '/Units'
                      }"
                      selectedKey="{ path: 'validation>/uom_code'}">
                        <items>
                            <SegmentedButtonItem id="unitButtonItem" text="{title}" key="{code}"  />
                        </items>
                    </SegmentedButton>
									</items>
								</VBox>
							</items>
						</HBox>
						<HBox id="hBoxActivity" width="100%" class="sapUiSmallMarginTop">
							<items>
								<VBox id="vBoxActivity">
									<items>
                    <SegmentedButton  id="segmentBtnActivity" items="{/ActivityTypes}" width="100%" selectedKey="{ path: 'validation>/type_code'}">
                        <items>
                            <SegmentedButtonItem id="activityButtonItem" key="{code}" icon="{parts: [ 'validation>/type_code', 'code'] , formatter: '.formatter.setIcon'}"  />
                        </items>
                    </SegmentedButton>
									</items>
								</VBox>
							</items>
						</HBox>
						<HBox id="hBoxNickname" class="sapUiSmallMarginTop">
							<items>
								<VBox width="100%" id="vBoxNickname" class="sapUiSmallMarginEnd">
									<items>
										<Input id="inputNickname" placeholder="Your nickname" liveChange="checkIfFieldNotEmpty" validationError="validationError" validationSuccess="validationSucess" value="{ path: 'validation>/nickname', type: 'sap.ui.model.type.String', constraints: { minLength: 2, maxLength: 60 } }" valueLiveUpdate="true"/>
									</items>
								</VBox>
								<VBox id="vBoxCompany" width="100%">
									<items>
                    <ComboBox id="comboCompany"
                      showSecondaryValues="true"
                      filterSecondaryValues= "true"
                      selectedKey="{ path: 'validation>/company_code'}"
                      selectionChange="companyValidation"
                      valueStateText="Selection not valid"
                      validationError="validationError"
                      validationSuccess="validationSucess"
                      placeholder="Select Company"
                      items="{
                        path: '/CompaniesView',
                        sorter: {
                          path: 'CountryTitle',
                          descending: true,
                          group: true
                        }
                      }">
                      <core:ListItem id="companyListItem" key="{CompanyCode}" text="{CompanyTitle}" additionalText="{CompanyCode}"  />
                    </ComboBox>
									</items>
								</VBox>
							</items>
						</HBox>
						<HBox id="hBoxSend" justifyContent="Center">
							<items>
								<Button id="btnSend" text="Senden" enabled="false" press="send"/>
							</items>
						</HBox>
					</items>
				</VBox>
			</Panel>
		</FlexBox>
	</Page>
  </App>
</mvc:View>
